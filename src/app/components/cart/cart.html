<section class="section">
  <div class="section-header">
    <div>
      <p class="eyebrow">Cart</p>
      <h1>Your Items</h1>
    </div>
    <button class="btn ghost" (click)="clearCart()" [disabled]="items.length === 0">Clear Cart</button>
  </div>

  <div *ngIf="items.length === 0" class="empty-state">
    <p>Your cart is empty.</p>
    <a routerLink="/" class="btn primary">Continue shopping</a>
  </div>

  <div *ngIf="items.length > 0" class="cart-list">
    <article *ngFor="let item of items" class="cart-item">
      <div class="thumb">
        <img [src]="item.product.url" alt="{{ item.product.name }}">
      </div>
      <div class="cart-body">
        <h3>{{ item.product.name }}</h3>
        <p class="muted">{{ item.product.description }}</p>
        <div class="cart-actions">
          <label class="field-label">Qty</label>
          <input
            type="number"
            class="input small"
            [(ngModel)]="item.quantity"
            (ngModelChange)="updateQuantity(item.product.id, $event)"
            min="1"
          >
          <span class="line-total">{{ item.product.price * item.quantity | currency }}</span>
          <button class="btn ghost" type="button" (click)="removeItem(item.product.id)">Remove</button>
        </div>
      </div>
    </article>

    <div class="cart-summary">
      <div class="summary-line">
        <span>Total</span>
        <strong>{{ total | currency }}</strong>
      </div>
      <a routerLink="/checkout" class="btn primary full">Proceed to Checkout</a>
    </div>
  </div>
</section>
